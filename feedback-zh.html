<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Oro 反馈</title>
    <meta name="description" content="提交 Oro 使用反馈、问题或功能建议。" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <h1 class="site-title"><a href="./index.html">Oro</a></h1>
        <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="切换菜单">
          <span class="hamburger">☰</span>
        </button>
        <nav class="nav" id="nav-menu">
          <a href="./privacy-policy-zh.html">隐私政策</a>
          <a href="./terms-zh.html">用户协议</a>
          <a class="active" href="./feedback-zh.html">反馈</a>
          <a href="./feedback.html" lang="en">English</a>
          <a class="btn" href="https://apps.apple.com/us/app/oro/id6744850883" target="_blank" rel="noopener">下载 App</a>
          <button id="toggle-theme" class="btn-ghost" aria-label="切换主题">🌓</button>
        </nav>
      </div>
    </header>

    <main class="container">
      <!-- 简洁的标题区域 -->
      <section class="hero">
        <h2 data-text="反馈">反馈</h2>
        <p>分享您的意见和建议</p>
      </section>

      <!-- 直接显示的反馈表单 -->
      <section class="feedback-form-section">
        <div class="feedback-form-card">
          <form id="feedback-form">
            <div class="form-row">
              <div class="form-group">
                <label for="feedback-title">标题</label>
                <input type="text" id="feedback-title" name="title" placeholder="简要描述您的反馈内容" required class="form-input" />
              </div>
              
              <div class="form-group form-group-small">
                <label for="feedback-category">类型</label>
                <select id="feedback-category" name="category" required class="form-input">
                  <option value="general">一般反馈</option>
                  <option value="bug">问题反馈</option>
                  <option value="feature">功能建议</option>
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <label for="feedback-description">详细描述</label>
              <textarea id="feedback-description" name="description" rows="8" placeholder="请详细描述您的反馈内容，包括遇到的问题、期望的功能或其他建议..." required class="form-input"></textarea>
            </div>
            
            <!-- 可选的额外信息区域 -->
            <div class="optional-fields" id="optional-fields" style="display: none;">
              <div class="form-group" id="priority-group">
                <label for="feedback-priority">优先级</label>
                <select id="feedback-priority" name="priority" class="form-input">
                  <option value="low">低</option>
                  <option value="medium" selected>中</option>
                  <option value="high">高</option>
                  <option value="critical">紧急</option>
                </select>
              </div>
              
              <div class="form-group" id="device-info-group">
                <label for="device-info">设备信息</label>
                <textarea id="device-info" name="deviceInfo" rows="3" placeholder="设备型号、操作系统版本、应用版本等信息" class="form-input"></textarea>
              </div>
              
              <div class="form-group" id="steps-group">
                <label for="reproduction-steps">重现步骤</label>
                <textarea id="reproduction-steps" name="steps" rows="4" placeholder="1. 打开应用&#10;2. 点击某个功能&#10;3. 出现问题" class="form-input"></textarea>
              </div>
            </div>
            
            <div class="form-actions">
              <button type="submit" class="btn submit-btn">
                提交反馈
              </button>
              <button type="button" class="btn-ghost" id="toggle-optional">
                更多选项
              </button>
              <button type="button" class="btn-ghost save-draft-btn" id="save-draft">
                保存草稿
              </button>
            </div>
          </form>
        </div>
      </section>

      <!-- 简化的反馈历史 -->
      <section class="feedback-history" id="feedback-history">
        <div class="section-header">
          <h3>反馈历史</h3>
        </div>
        <div class="history-list" id="history-list">
          <div class="empty-state">
            <p>暂无反馈记录</p>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container">
        <a class="back-link" href="./index.html">← 返回首页</a>
        <p>© <span id="year"></span> Oro</p>
      </div>
    </footer>

    <script>
      const yearEl = document.getElementById('year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const saved = localStorage.getItem('theme');
      if (saved) {
        document.documentElement.dataset.theme = saved;
      } else {
        document.documentElement.dataset.theme = prefersDark ? 'dark' : 'light';
      }
      document.getElementById('toggle-theme')?.addEventListener('click', () => {
        const next = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark';
        document.documentElement.dataset.theme = next;
        localStorage.setItem('theme', next);
      });

      // Mobile menu toggle
      const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
      const navMenu = document.getElementById('nav-menu');
      
      if (mobileMenuToggle && navMenu) {
        mobileMenuToggle.addEventListener('click', () => {
          navMenu.classList.toggle('active');
          const isOpen = navMenu.classList.contains('active');
          mobileMenuToggle.querySelector('.hamburger').textContent = isOpen ? '✕' : '☰';
        });
        
        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
          if (!mobileMenuToggle.contains(e.target) && !navMenu.contains(e.target)) {
            navMenu.classList.remove('active');
            mobileMenuToggle.querySelector('.hamburger').textContent = '☰';
          }
        });
        
        // Close menu when clicking on nav links
        navMenu.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', () => {
            navMenu.classList.remove('active');
            mobileMenuToggle.querySelector('.hamburger').textContent = '☰';
          });
        });
      }
    </script>
    <script src="./feedback-zh.js"></script>
  </body>
  </html>
